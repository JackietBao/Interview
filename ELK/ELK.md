# ELK的工作流程？

```Lo
ELK是免费、开源技术
Elasticsearch、Logstash、Kibana

流程：
1、Logstash进行过滤、格式化、转换日志数据(系统日志、应用日志)

2、Logstash把处理的日志发给Elasticsearch进行索引和存储
Elasticsearch是搜索引擎，提供搜索、分析数据、储存数据

3、Kibana是可视化工具，展示分析的结果

简单讲：
Logstash对数据采集处理，发给Elasticsearch储存索引，使用Kibana可视化展示分析
```

# ES集群你们有几台？里面索引分片机制是什么？

```
两台
索引分片机制：
是Elasticsearch提高数据处理能力和数据冗余的方法
当你创建一个索引，会将数据分成多个分片，分散储存在不同的节点上。每个分片都是一个独立的索引，可以进行搜索和操作。
```

# 你们都收集什么日志？干嘛用的

```
收集错误日志，访问日志，慢查询日志，业务日志，服务日志。
目的：了解应用程序运行的情况，快速定位和排查问题，提高服务器稳定可靠性。
```

# ELK终极版

![image-20230509152225596](assets/ELK/image-20230509152225596.png)

```
1、filebeat收集日志，发送到kafka集群，指定生成topic
2、kafka集群储存topic
3、logstash收集topic，收集完后，生成索引
4、ES搜集并分析日志
5、kibana前端创建对应索引，进行展示
```

# ELK都监控什么日志？收集什么日志？

```
监控和收集nginx、tomcat、mysql、redis访问日志，错误日志，服务日志等
方便给开发进行查看这些日志的内容，还可以根据日志进行排错及优化建议。
说的不好听的，还可以进行追责，逃避责任。
```



